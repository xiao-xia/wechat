{"version":3,"sources":["uni-app:///main.js","webpack:///B:/bdwwww/bdwww/wechat/pages/shopcart/shoppingCart.vue?3d14","webpack:///B:/bdwwww/bdwww/wechat/pages/shopcart/shoppingCart.vue?c18f","webpack:///B:/bdwwww/bdwww/wechat/pages/shopcart/shoppingCart.vue?e08a","webpack:///B:/bdwwww/bdwww/wechat/pages/shopcart/shoppingCart.vue?542b","uni-app:///pages/shopcart/shoppingCart.vue","webpack:///B:/bdwwww/bdwww/wechat/pages/shopcart/shoppingCart.vue?8548","webpack:///B:/bdwwww/bdwww/wechat/pages/shopcart/shoppingCart.vue?8b57"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","idData","goodsList","goodsrecords","xrrdata","allChecked","goodsPrice","goodsPresentPrice","goodsvipPrice","goSub","goodsStock","options","text","style","backgroundColor","optiones","computed","totalNum","console","item","totalPrice","onLoad","onShow","getApp","methods","goLogin","uni","url","getList","res","cartNum","index","cartAdd","title","icon","curAll","deleteNum","getMember","cartSub","that","setTimeout","content","success","selected","selectedall","goOrder","obj","JSON","arr","type","showCancel","confirmText","clear","str","goShop","goodsDetail","bindClick","getNum"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,qBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyH;AACzH;AACgE;AACL;AACc;;;AAGzE;AAC0K;AAC1K,gBAAgB,iLAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,2FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,wOAEN;AACP,KAAK;AACL;AACA,aAAa,4TAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrDA;AAAA;AAAA;AAAA;AAA4oB,CAAgB,0oBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;ACoNhqB;AACA;AACA;AAMA;AAAA;AAAA;AAAA,eACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC,UACA;QACAC;QACAC;UACAC;QACA;MACA,GACA;QACAF;QACAC;UACAC;QACA;MACA,EACA;MACAC,WACA;QACAH;QACAC;UACAC;QACA;MACA;IAEA;EACA;EACAE,0CACA;IACAC;MACAC;MACA;MACA;QACAC;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;QACAD,YACAC,gEACAA;MACA;MACA;IACA;EAAA,EACA;EACAC;EACAC;IACAC;IACA;IACA;IACA;EACA;EACAC;IACAC;MACAC;QACAC;MACA;IACA;IAEAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;cAAA;gBAAAC;gBACAX;gBAAA,MACAW;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBACAA;kBACAV;gBACA;gBACA;gBACA;kBACA;oBACAA;oBACAA;oBACAD;oBACA;oBACA;oBACA;oBACA;kBACA;gBACA;gBACAY;gBACA;kBACA;kBACAJ;oBACAK;oBAAA;oBACAnB;kBACA;gBACA;kBACA;kBACAc;oBACAK;kBACA;gBACA;gBACAb;gBACAA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAc;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAd;gBAAA,MACAC;kBAAA;kBAAA;gBAAA;gBACAO;kBACAO;kBACAC;gBACA;gBAAA,kCACA;cAAA;gBAAA,MACAf;kBAAA;kBAAA;gBAAA;gBACAO;kBACAO;kBACAC;gBACA;gBAAA,kCACA;cAAA;gBAEA;cAAA;gBAGAhB;gBAAA,MACAC;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA,OAEA,uBACA,cACAA,qBACA,mCACAA,eACA;cAAA;gBALAU;gBAMAX;gBAAA;gBAAA,OACA;cAAA;gBAAAiB;gBACAjB;gBACAY;gBACA;kBACA;kBACAJ;oBACAK;oBAAA;oBACAnB;kBACA;gBACA;kBACA;kBACAc;oBACAK;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAoBA;IAEAK;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;cAAA;gBAAAP;gBACAH;kBACAO;kBACAC;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAG;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;cAAA;gBAAAR;gBACA;gBACA;kBACA;oBACAV;kBACA;oBACAA;kBACA;gBACA;gBACAD;gBACAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAoB;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAC;gBACArB;gBACAqB;gBAAA,MACApB;kBAAA;kBAAA;gBAAA;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAAgB;gBACAL;gBACAZ;gBACAsB;kBACAd;oBACAO;oBACAQ;oBACAC;sBACA;wBACAH;wBACAA;wBACA;0BACAb;4BACAK;4BAAA;4BACAnB;0BACA;wBACA;0BACAc;4BACAK;0BACA;wBACA;sBACA;wBACAQ;sBACA;oBACA;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA,MACApB;kBAAA;kBAAA;gBAAA;gBACA;gBAAA;gBAAA,OACA,uBACA,cACAA,qBACA,kCACA;cAAA;gBAJAU;gBAKAX;gBAAA;gBAAA,OACA;cAAA;gBAAAiB;gBACAL;gBACAZ;gBACA;kBACA;kBACAQ;oBACAK;oBAAA;oBACAnB;kBACA;gBACA;kBACA;kBACAc;oBACAK;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAOA;IACAY;MACAzB;MAEAC;MACA;QACA;QACA;MACA;QACA;UACA;QACA;QACAD;QACA;UACA;QACA;UACA;QACA;MACA;IACA;IACA0B;MACA1B;MACA;MACA;QACA;UACA;UACA;YACA;YACAC;UACA;QACA;MACA;QACA;UACAA;QACA;MACA;IACA;IACA0B;MACA;MACA;MACA;QACA;UACA;UACA3B;UACA4B;UACAA;UACAA;UACAA;UACA;UACAA;UACAA;UACAA;UACAA;UACAA,0CACAC,mDACA;UACAC;UACA9B;UACA;UACA;UACA+B;QACA;MACA;MACA;QACAvB;UACAO;UACAC;QACA;QACA;MACA;QACA;QACAR;UACAO;UACAQ;UACAS;UACAC;UACAT;YACA;cACAhB;gBACAC;cACA;YACA;UACA;QACA;QACA;MACA;MACA;MACAT;MACAQ;QACAC,KACA,+BACA3B,OACA,gBACA,gBACA,iBACA,KACAoB;MACA;IACA;IACAgC;MACA;MACA1B;QACAO;QACAQ;QACAC;UAAA;YAAA;YAAA;cAAA;gBAAA;kBAAA;oBAAA,KACAb;sBAAA;sBAAA;oBAAA;oBACAmB;oBACAT;sBACA;sBACAO;sBACAE;sBACA9B;oBACA;oBACAqB;oBACArB;oBACAmC;oBACAnC;oBACAqB;oBAAA;oBAAA,OACA;kBAAA;oBAAAV;oBACAX;oBACAqB;oBACAb;sBACAK;oBACA;kBAAA;kBAAA;oBAAA;gBAAA;cAAA;YAAA;UAAA;QAEA;MACA;IACA;IACAuB;MACA5B;QACAC;MACA;IACA;IACA4B;MACA7B;QACAC;MACA;IACA;IAEA6B;MACAtC;MACAA;MACA;MACA;QACAQ;UACAO;UACAQ;UACAC;YACA;cACAH;cACAA;YACA,wBACA;UACA;QACA;MACA;QACAb;UACAC;QACA;MACA;IACA;IACA8B;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;cAAA;gBAAAtB;gBACAL;gBACAZ;gBACA;kBACA;kBACAQ;oBACAK;oBAAA;oBACAnB;kBACA;gBACA;kBACA;kBACAc;oBACAK;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AClpBA;AAAA;AAAA;AAAA;AAAmtC,CAAgB,yoCAAG,EAAC,C;;;;;;;;;;;ACAvuC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/shopcart/shoppingCart.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/shopcart/shoppingCart.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./shoppingCart.vue?vue&type=template&id=d8792850&\"\nvar renderjs\nimport script from \"./shoppingCart.vue?vue&type=script&lang=js&\"\nexport * from \"./shoppingCart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./shoppingCart.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/shopcart/shoppingCart.vue\"\nexport default component.exports","export * from \"-!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./shoppingCart.vue?vue&type=template&id=d8792850&\"","var components\ntry {\n  components = {\n    uniSwipeAction: function () {\n      return import(\n        /* webpackChunkName: \"components/uni-swipe-action/uni-swipe-action\" */ \"@/components/uni-swipe-action/uni-swipe-action.vue\"\n      )\n    },\n    uniSwipeActionItem: function () {\n      return import(\n        /* webpackChunkName: \"components/uni-swipe-action-item/uni-swipe-action-item\" */ \"@/components/uni-swipe-action-item/uni-swipe-action-item.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = !!_vm.token ? _vm.goodsList.length : null\n  var g1 = !!_vm.token && !(g0 == 0) ? _vm.goodsList.length : null\n  var g2 = _vm.goodsList.length > 0 && _vm.token\n  var g3 = _vm.goodsList.length > 0 && _vm.token\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        g2: g2,\n        g3: g3,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./shoppingCart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./shoppingCart.vue?vue&type=script&lang=js&\"","<template>\r\n  <view class=\"cart\">\r\n    <view\r\n      v-if=\"!token\"\r\n      class=\"addGoodItem\"\r\n    >\r\n      <view style=\"color: #CCCCCC;\">您还未登录哦，请先登录~</view>\r\n      <view class=\"add\">\r\n        <view\r\n          class=\"addGoodButton\"\r\n          @tap=\"goLogin\"\r\n        >立即登录</view>\r\n      </view>\r\n    </view>\r\n    <view\r\n      v-else-if=\"goodsList.length==0\"\r\n      class=\"addGoodItem\"\r\n    >\r\n      <image\r\n        src=\"../../static/shopCart/cart.png\"\r\n        mode=\"\"\r\n      ></image>\r\n      <view style=\"color: #CCCCCC;font-size: 32rpx;margin-top: -90rpx\">购物车暂无商品~</view>\r\n      <view class=\"add\">\r\n        <view\r\n          class=\"addGoodButton\"\r\n          @click=\"goShop\"\r\n        >去添加商品</view>\r\n      </view>\r\n    </view>\r\n    <view\r\n      class=\"\"\r\n      v-else\r\n    >\r\n      <view\r\n        class=\"title\"\r\n        v-if='goodsList.length>0'\r\n        v-show=\"false\"\r\n      >\r\n        实付满100元免配送费\r\n      </view>\r\n      <uni-swipe-action>\r\n        <view\r\n          class=\"card\"\r\n          v-for=\"(item,index) in goodsList\"\r\n          :key='item.list[0].goodsSpecificationId'\r\n        >\r\n          <uni-swipe-action-item\r\n            v-if=\"item.goodsStock ==0\"\r\n            :right-options=\"optiones\"\r\n            @click=\"bindClick(item.shoppingCartId,$event,item.goodsId)\"\r\n          >\r\n            <view class=\"goods\">\r\n              <image\r\n                style=\"width: 50rpx;height: 50rpx;\"\r\n                src=\"../../static/shopCart/circular.png\"\r\n                mode=\"\"\r\n              ></image>\r\n              <view class=\"photo\">\r\n                <image\r\n                  :src=\"item.goodsList[0].goodsDetailImage\"\r\n                  mode=\"\"\r\n                ></image>\r\n                <view class=\"replenishment\">\r\n                  <view class=\"progressMent\">补货中</view>\r\n                </view>\r\n              </view>\r\n              <view class=\"name\">\r\n                <view class=\"type\">\r\n                  {{item.goodsList[0].goodsName}}\r\n                </view>\r\n                <view style=\"font-size: 12px; color: #999999;\">\r\n                  规格：{{item.list[0].goodsSpecificationName}}\r\n                </view>\r\n                <view class=\"moneyButton\">\r\n                  <view\r\n                    class=\"money\"\r\n                    style=\"color: #999999;\"\r\n                  >\r\n                    ¥{{item.list[0].goodsPresentPrice}}\r\n                  </view>\r\n                </view>\r\n              </view>\r\n            </view>\r\n          </uni-swipe-action-item>\r\n          <uni-swipe-action-item\r\n            v-else\r\n            :right-options=\"options\"\r\n            @click=\"bindClick(item.shoppingCartId,$event,item.goodsId)\"\r\n          >\r\n            <view class=\"goods\">\r\n              <checkbox-group @change=\"selected(item)\">\r\n                <checkbox\r\n                  style=\"transform: scale(0.7);\"\r\n                  :checked=\"item.flag\"\r\n                />\r\n              </checkbox-group>\r\n              <view\r\n                class=\"photo\"\r\n                @click=\"goodsDetail(item.goodsId,item.goodsNums)\"\r\n              >\r\n                <image\r\n                  :src=\"item.goodsList[0].goodsDetailImage\"\r\n                  mode=\"\"\r\n                ></image>\r\n              </view>\r\n              <view\r\n                class=\"name\"\r\n                @click=\"goodsDetail(item.goodsId,item.goodsNums)\"\r\n              >\r\n                <view class=\"typeMask\">\r\n                  {{item.goodsList[0].goodsName}}\r\n                </view>\r\n                <view class=\"Maskname\">\r\n                  规格：{{item.list[0].goodsSpecificationName}}\r\n                </view>\r\n                <view class=\"moneyButton\">\r\n                  <view\r\n                    class=\"money\"\r\n                    style=\"color: #FE4545;\"\r\n                  >\r\n                    ¥{{item.list[0].goodsPresentPrice||item.list[0].goodsVipPrice}}\r\n                    <!-- ¥{{item.goodsPresentPrice}} -->\r\n                  </view>\r\n                  <view\r\n                    class=\"button\"\r\n                    style=\"text-align: center;\"\r\n                  >\r\n                    <view class=\"change\">\r\n                      <view\r\n                        class=\"sub\"\r\n                        v-show=\"goSub\"\r\n                        @click.stop=\"cartSub(index,item)\"\r\n                      >\r\n                        <image\r\n                          src=\"../../static/product/jian.png\"\r\n                          mode=\"\"\r\n                        ></image>\r\n                      </view>\r\n                      <view\r\n                        class=\"sub\"\r\n                        v-show=\"!goSub\"\r\n                      >\r\n                        <image\r\n                          src=\"../../static/product/jian.png\"\r\n                          mode=\"\"\r\n                        ></image>\r\n                      </view>\r\n                      <text>{{item.goodsNums}}</text>\r\n                      <view\r\n                        class=\"add\"\r\n                        @click.stop=\"cartAdd(index,item)\"\r\n                      >\r\n                        <image\r\n                          src=\"../../static/product/jia.png\"\r\n                          mode=\"\"\r\n                        ></image>\r\n                      </view>\r\n                    </view>\r\n                  </view>\r\n                </view>\r\n              </view>\r\n            </view>\r\n          </uni-swipe-action-item>\r\n        </view>\r\n      </uni-swipe-action>\r\n    </view>\r\n\r\n    <view class=\"bottom\">\r\n      <view class=\"left\">\r\n        <checkbox-group\r\n          class=\"quanxuan\"\r\n          @change=\"selectedall()\"\r\n        >\r\n          <checkbox\r\n            style=\"transform: scale(0.7);\"\r\n            :checked=\"allChecked\"\r\n          /><text style=\"margin-left: 15rpx;\">全选</text>\r\n        </checkbox-group>\r\n        <view\r\n          class=\"total\"\r\n          style=\"font-size: 32rpx;\"\r\n        >\r\n          合计:<text style=\"color: #F86500;\">¥{{totalPrice}}</text>\r\n        </view>\r\n      </view>\r\n\r\n      <view\r\n        class=\"suan\"\r\n        style=\"font-size: 32rpx;color: #FFFFFF;\"\r\n        @click=\"goOrder\"\r\n      >\r\n        结算 ({{totalNum}})\r\n      </view>\r\n    </view>\r\n    <view\r\n      class=\"empty\"\r\n      @click=\"clear\"\r\n      v-if=\"goodsList.length>0&&token\"\r\n    >\r\n      清空购物车\r\n    </view>\r\n    <view\r\n      class=\"box\"\r\n      v-if='goodsList.length>0&&token'\r\n    >\r\n\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapGetters, mapMutations, mapActions } from \"vuex\";\r\nimport { cartList, deleteShop, empty } from \"../../API/shopCart/index.js\";\r\nimport {\r\n  addNum,\r\n  deleteNum,\r\n  updateNum\r\n} from \"../../API/classificationArr/index\";\r\nimport { totalNum } from \"../../API/classificationArr/index\";\r\nimport { getMemberMsg } from \"../../API/personArr/index.js\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      idData: [],\r\n      goodsList: [],\r\n      goodsrecords: [],\r\n      xrrdata: [],\r\n      allChecked: false,\r\n      goodsPrice: \"\",\r\n      goodsPresentPrice: \"\",\r\n      goodsvipPrice: \"\",\r\n      goSub: true,\r\n      goodsStock: \"\",\r\n      options: [\r\n        {\r\n          text: \"编辑\",\r\n          style: {\r\n            backgroundColor: \"#CCCCCC\"\r\n          }\r\n        },\r\n        {\r\n          text: \"删除\",\r\n          style: {\r\n            backgroundColor: \"#dd524d\"\r\n          }\r\n        }\r\n      ],\r\n      optiones: [\r\n        {\r\n          text: \"删除\",\r\n          style: {\r\n            backgroundColor: \"#dd524d\"\r\n          }\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"unfoin\", \"token\", \"userInfo\"]),\r\n    totalNum() {\r\n      console.log(this.goodsList);\r\n      let totalNum = 0;\r\n      this.goodsList.map(item => {\r\n        item.flag ? (totalNum += item.goodsNums) : totalNum;\r\n      });\r\n      return totalNum;\r\n    },\r\n\r\n    //计算选中商品的总价\r\n    totalPrice() {\r\n      let totalPrice = 0;\r\n      this.goodsList.map(item => {\r\n        item.flag\r\n          ? (totalPrice += item.goodsNums * item.list[0].goodsPresentPrice)\r\n          : totalPrice;\r\n      });\r\n      return totalPrice.toFixed(2);\r\n    }\r\n  },\r\n  onLoad() {},\r\n  onShow() {\r\n    getApp().globalData.index = 4;\r\n    this.getList();\r\n    this.allChecked = false;\r\n    this.getNum();\r\n  },\r\n  methods: {\r\n    goLogin() {\r\n      uni.navigateTo({\r\n        url: \"../login/login\"\r\n      });\r\n    },\r\n\r\n    async getList() {\r\n      const res = await totalNum(this.token);\r\n      console.log(res);\r\n      if (res.msg == \"ERROR TOKEN\") return;\r\n      res.data.shoppingCartVoIPage.records.map(item => {\r\n        item.flag = false;\r\n      });\r\n      this.goodsList = res.data.shoppingCartVoIPage.records;\r\n      this.goodsList.forEach((item, index) => {\r\n        if (item.list[0].goodsStock == 0) {\r\n          item.goodsStock = item.list[0].goodsStock;\r\n          item.goodsNums = 0;\r\n          console.log(item.goodsStock);\r\n          // for (var i = 0; i<this.goodsList.length; i++) {\r\n          // \tswapArray(this.goodsList, index, index + 1);\r\n          // \tindex++;\r\n          // }\r\n        }\r\n      });\r\n      let cartNum = res.data.goodsNums;\r\n      if (cartNum != 0) {\r\n        //设置角标\r\n        uni.setTabBarBadge({\r\n          index: 2, //tabBar序号，从0开始计数\r\n          text: cartNum.toString()\r\n        });\r\n      } else {\r\n        //移除角标\r\n        uni.removeTabBarBadge({\r\n          index: 2\r\n        });\r\n      }\r\n      console.log(this.goodsList);\r\n      console.log(cartNum);\r\n      this.getMember();\r\n    },\r\n    //添加数量\r\n    async cartAdd(index, item) {\r\n      console.log(item);\r\n      if (item.goodsNums == 99) {\r\n        uni.showToast({\r\n          title: \"数量不能超过99件！\",\r\n          icon: \"none\"\r\n        });\r\n        return true;\r\n      } else if (item.goodsNums >= item.list[0].goodsStock) {\r\n        uni.showToast({\r\n          title: \"数量不能超过库存！\",\r\n          icon: \"none\"\r\n        });\r\n        return true;\r\n      } else {\r\n        this.goodsList[index].goodsNums++;\r\n      }\r\n\r\n      console.log(item);\r\n      if (item.goodsNums > 1) {\r\n        // const res=await addNum(this.token,item.goodsId,this.goodsList[index].goodsNums);\r\n        const res = await updateNum(\r\n          this.token,\r\n          item.shoppingCartId,\r\n          this.goodsList[index].goodsNums,\r\n          item.goodsCode\r\n        );\r\n        console.log(res);\r\n        const curAll = await totalNum(this.token);\r\n        console.log(curAll);\r\n        let cartNum = curAll.data.goodsNums; //通过后台接口获取\r\n        if (cartNum != 0) {\r\n          //设置角标\r\n          uni.setTabBarBadge({\r\n            index: 2, //tabBar序号，从0开始计数\r\n            text: cartNum.toString()\r\n          });\r\n        } else {\r\n          //移除角标\r\n          uni.removeTabBarBadge({\r\n            index: 2\r\n          });\r\n        }\r\n      } /* else if(item.goodsNums > 2){\r\n\t\t\t\t\tconst res=await updateNum(this.token,item.shoppingCartId,this.goodsList[index].goodsNums);\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tconst curAll=await totalNum(this.token);\r\n\t\t\t\t\tconsole.log(curAll);\r\n\t\t\t\t\tlet cartNum = curAll.data.goodsNums; //通过后台接口获取\r\n\t\t\t\t\tif (cartNum!= 0) {\r\n\t\t\t\t\t  //设置角标\r\n\t\t\t\t\t  uni.setTabBarBadge({\r\n\t\t\t\t\t    index: 2,  //tabBar序号，从0开始计数\r\n\t\t\t\t\t    text: cartNum.toString()\r\n\t\t\t\t\t  })\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t  //移除角标\r\n\t\t\t\t\t  uni.removeTabBarBadge({\r\n\t\t\t\t\t    index: 3,\r\n\t\t\t\t\t  })\r\n\t\t\t\t\t}\r\n\t\t\t\t}\t */\r\n    },\r\n\r\n    async deleteNum(shoppingCartIds) {\r\n      const res = await deleteNum(this.token, shoppingCartIds);\r\n      uni.showToast({\r\n        title: \"删除成功！\",\r\n        icon: \"none\"\r\n      });\r\n      this.getList();\r\n    },\r\n    async getMember() {\r\n      const res = await getMemberMsg(this.token);\r\n      this.memberData = res.data;\r\n      this.goodsList.forEach((item, index) => {\r\n        if (this.memberData.membershipStatus == 0) {\r\n          item.list[0].goodsPresentPrice = item.list[0].goodsPresentPrice;\r\n        } else if (this.memberData.membershipStatus == 1) {\r\n          item.list[0].goodsPresentPrice = item.list[0].goodsVipPrice;\r\n        }\r\n      });\r\n      console.log(\"123456~~~~~~~\");\r\n      console.log(this.goodsList);\r\n    },\r\n    //减\r\n    async cartSub(index, item) {\r\n      var that = this;\r\n      console.log(item);\r\n      that.goSub = true;\r\n      if (item.goodsNums == 1) {\r\n        this.goSub = false;\r\n        const curAll = await totalNum(this.token);\r\n        let cartNum = curAll.data.goodsNums;\r\n        console.log(cartNum);\r\n        setTimeout(() => {\r\n          uni.showModal({\r\n            title: \"提示\",\r\n            content: \"您确定要删除该商品吗？\",\r\n            success: function(res) {\r\n              if (res.confirm) {\r\n                that.deleteNum(item.shoppingCartId);\r\n                that.goSub = true;\r\n                if (cartNum > 1) {\r\n                  uni.setTabBarBadge({\r\n                    index: 2, //tabBar序号，从0开始计数\r\n                    text: (cartNum - 1).toString()\r\n                  });\r\n                } else if (cartNum == 1) {\r\n                  uni.removeTabBarBadge({\r\n                    index: 2\r\n                  });\r\n                }\r\n              } else if (res.cancel) {\r\n                that.goSub = true;\r\n              }\r\n            }\r\n          });\r\n        }, 100);\r\n      } else if (item.goodsNums > 1) {\r\n        this.goodsList[index].goodsNums--;\r\n        const res = await updateNum(\r\n          this.token,\r\n          item.shoppingCartId,\r\n          this.goodsList[index].goodsNums\r\n        );\r\n        console.log(res);\r\n        const curAll = await totalNum(this.token);\r\n        let cartNum = curAll.data.goodsNums; //通过后台接口获取\r\n        console.log(cartNum);\r\n        if (cartNum != 0) {\r\n          //设置角标\r\n          uni.setTabBarBadge({\r\n            index: 2, //tabBar序号，从0开始计数\r\n            text: cartNum.toString()\r\n          });\r\n        } else {\r\n          //移除角标\r\n          uni.removeTabBarBadge({\r\n            index: 2\r\n          });\r\n        }\r\n      }\r\n      // if(num<=0){\r\n      // \tthis.goodsList[index].goodsNums=0\r\n      // }else{\r\n      // \tthis.goodsList[index].goodsNums--\r\n      // }\r\n    },\r\n    selected(item) {\r\n      console.log(item);\r\n\r\n      item.flag = !item.flag;\r\n      if (!item.flag) {\r\n        //只要有一项没选中,全选不亮\r\n        this.allChecked = false;\r\n      } else {\r\n        const test = this.goodsList.every(item => {\r\n          return item.flag === true;\r\n        });\r\n        console.log(test);\r\n        if (test) {\r\n          this.allChecked = true;\r\n        } else {\r\n          this.allChecked = false;\r\n        }\r\n      }\r\n    },\r\n    selectedall() {\r\n      console.log(this.allChecked);\r\n      this.allChecked = !this.allChecked;\r\n      if (this.allChecked) {\r\n        this.goodsList.map(item => {\r\n          //item.flag = true\r\n          if (item.goodsStock != 0) {\r\n            //添加库存不为0条件\r\n            item.flag = true;\r\n          }\r\n        });\r\n      } else {\r\n        this.goodsList.map(item => {\r\n          item.flag = false;\r\n        });\r\n      }\r\n    },\r\n    goOrder() {\r\n      let arr = [];\r\n      var type = 0;\r\n      this.goodsList.forEach(item => {\r\n        if (item.flag) {\r\n          var obj = {};\r\n          console.log(item);\r\n          obj.goodsSpecificationName = item.list[0].goodsSpecificationName;\r\n          obj.goodsNums = item.goodsNums;\r\n          obj.goodsPresentPrice = item.list[0].goodsPresentPrice;\r\n          obj.goodsOriginalPrice = item.list[0].goodsOriginalPrice;\r\n          // obj.goodsVipPrice = item.goodsVipPrice\r\n          obj.goodsVipPrice = item.goodsVipPrice;\r\n          obj.goodsSpecificationId = item.goodsSpecificationId;\r\n          obj.goodsId = item.goodsList[0].goodsId;\r\n          obj.superiorId = item.goodsTypeVo.superiorId;\r\n          obj.goodsDetailImage = encodeURIComponent(\r\n            JSON.stringify(item.goodsList[0].goodsDetailImage)\r\n          );\r\n          arr.push(obj);\r\n          console.log(arr);\r\n          // this.xrrdata.push(xrr)\r\n          // console.log(this.xrrdata)\r\n          type++;\r\n        }\r\n      });\r\n      if (type == 0) {\r\n        uni.showToast({\r\n          title: \"请勾选要结算的商品\",\r\n          icon: \"none\"\r\n        });\r\n        return;\r\n      } else if (this.memberData.phone == \"\") {\r\n        var that = this;\r\n        uni.showModal({\r\n          title: \"提示\",\r\n          content: \"您还未绑定手机号，不能购买\",\r\n          showCancel: \"false\",\r\n          confirmText: \"确定\",\r\n          success: function(res) {\r\n            if (res.confirm) {\r\n              uni.navigateTo({\r\n                url: \"../login/login\"\r\n              });\r\n            }\r\n          }\r\n        });\r\n        return;\r\n      }\r\n      let data = JSON.stringify(arr);\r\n      console.log(data);\r\n      uni.navigateTo({\r\n        url:\r\n          \"../buyGoods/buyGoods?list=\" +\r\n          data +\r\n          \"&goodsNums=\" +\r\n          this.totalNum +\r\n          \"&totalPrice=\" +\r\n          this\r\n            .totalPrice /* +'&xrrdata=' + encodeURIComponent(JSON.stringify(this.xrrdata)) */\r\n      });\r\n    },\r\n    clear() {\r\n      var that = this;\r\n      uni.showModal({\r\n        title: \"提示\",\r\n        content: \"您确定要清空购物车吗？\",\r\n        async success(res) {\r\n          if (res.confirm) {\r\n            var arr = [];\r\n            that.goodsList.forEach(item => {\r\n              var obj = {};\r\n              obj = item.shoppingCartId;\r\n              arr.push(obj);\r\n              console.log(arr);\r\n            });\r\n            that.idData = arr; //[246, 247]\r\n            console.log(that.idData); // [246, 247, __ob__: Observer]\r\n            var str = that.idData.join(\",\"); //数组转为字符串\r\n            console.log(str); //246, 247\r\n            that.shoppingCartIds = str;\r\n            const res = await deleteNum(that.token, that.shoppingCartIds);\r\n            console.log(res);\r\n            that.getList();\r\n            uni.removeTabBarBadge({\r\n              index: 3\r\n            });\r\n          }\r\n        }\r\n      });\r\n    },\r\n    goShop() {\r\n      uni.switchTab({\r\n        url: \"../classification/goodsClassify\"\r\n      });\r\n    },\r\n    goodsDetail(goodsId, count) {\r\n      uni.navigateTo({\r\n        url: \"/pages/seckill/seckdeil?Id=\" + goodsId + \"&count=\" + count\r\n      });\r\n    },\r\n\r\n    bindClick(shoppingCartId, e, goodsId) {\r\n      console.log(e);\r\n      console.log(goodsId);\r\n      var that = this;\r\n      if (e.content.text == \"删除\") {\r\n        uni.showModal({\r\n          title: \"提示\",\r\n          content: \"您确定要删除该商品吗\",\r\n          success: function(res) {\r\n            if (res.confirm) {\r\n              that.deleteNum(shoppingCartId);\r\n              that.getNum();\r\n            } else if (res.cancel) {\r\n            }\r\n          }\r\n        });\r\n      } else {\r\n        uni.navigateTo({\r\n          url: \"/pages/seckill/seckdeil?goodsId=\" + goodsId\r\n        });\r\n      }\r\n    },\r\n    async getNum() {\r\n      const curAll = await totalNum(this.token);\r\n      let cartNum = curAll.data.goodsNums; //通过后台接口获取\r\n      console.log(cartNum);\r\n      if (cartNum != 0 && cartNum != null) {\r\n        //设置角标\r\n        uni.setTabBarBadge({\r\n          index: 2, //tabBar序号，从0开始计数\r\n          text: cartNum.toString()\r\n        });\r\n      } else {\r\n        //移除角标\r\n        uni.removeTabBarBadge({\r\n          index: 2\r\n        });\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.cart {\r\n  background-color: #f6f6f6;\r\n}\r\n.title {\r\n  text-indent: 40rpx;\r\n  color: #f86500;\r\n  background-color: #f9f1c8;\r\n  height: 60rpx;\r\n  line-height: 60rpx;\r\n}\r\n\r\n.card {\r\n  padding: 0 20rpx;\r\n  margin-top: 20rpx;\r\n\r\n  .goods {\r\n    background-color: #fff;\r\n    padding: 20rpx;\r\n    display: flex;\r\n    align-items: center;\r\n    .yuan {\r\n      width: 40rpx;\r\n      height: 40rpx;\r\n      border-radius: 50%;\r\n      border: 1px solid #ccc;\r\n    }\r\n    .photo {\r\n      width: 250rpx;\r\n      height: 250rpx;\r\n      margin-left: 20rpx;\r\n      image {\r\n        width: 100%;\r\n        height: 100%;\r\n      }\r\n      .replenishment {\r\n        width: 250rpx;\r\n        height: 250rpx;\r\n        background-color: #cccccc;\r\n        top: 20rpx;\r\n        opacity: 0.8;\r\n        position: absolute;\r\n        justify-content: center;\r\n        display: flex;\r\n        align-items: center;\r\n        .progressMent {\r\n          color: #ffffff;\r\n          background-color: #000000;\r\n          border-radius: 50rpx;\r\n          // margin-top: 50rpx;\r\n          display: flex;\r\n          justify-content: center;\r\n          width: 240rpx;\r\n        }\r\n      }\r\n    }\r\n    .name {\r\n      width: 300rpx;\r\n      margin-left: 40rpx;\r\n      .typeMask {\r\n      }\r\n      .Maskname {\r\n        width: 290rpx;\r\n        font-size: 12px;\r\n        color: #999999;\r\n        display: -webkit-box;\r\n        -webkit-box-orient: vertical;\r\n        -webkit-line-clamp: 2;\r\n        overflow: hidden;\r\n      }\r\n    }\r\n    .moneyButton {\r\n      display: flex;\r\n      margin-top: 20rpx;\r\n      justify-content: space-between;\r\n      .button {\r\n        display: flex;\r\n        justify-content: center;\r\n        // margin-left: 120rpx;\r\n        .change {\r\n          display: flex;\r\n          width: 100rpx;\r\n          height: 50rpx;\r\n          justify-content: center;\r\n          line-height: 50rpx;\r\n          // background-color: #E7FFE6;\r\n          position: relative;\r\n          margin-right: 20rpx;\r\n          image {\r\n            width: 100%;\r\n            height: 100%;\r\n          }\r\n          .sub {\r\n            top: 0;\r\n            left: -20rpx;\r\n            position: absolute;\r\n            width: 50rpx;\r\n            height: 50rpx;\r\n          }\r\n          .add {\r\n            top: 0;\r\n            right: -20rpx;\r\n            width: 50rpx;\r\n            height: 50rpx;\r\n            position: absolute;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.bottom {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  position: fixed;\r\n  left: 0;\r\n  bottom: 0;\r\n  width: 100%;\r\n  padding-left: 30rpx;\r\n  background-color: #ffffff;\r\n  .left {\r\n    width: 70%;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n  }\r\n  .suan {\r\n    border-radius: 50rpx;\r\n    height: 70rpx;\r\n    background-color: #f86500;\r\n    width: 25%;\r\n    line-height: 70rpx;\r\n    text-align: center;\r\n    margin: 10rpx 20rpx 10rpx 0;\r\n  }\r\n}\r\n\r\n.box {\r\n  height: 100rpx;\r\n}\r\ncheckbox-group {\r\n  width: 60rpx;\r\n}\r\n.quanxuan {\r\n  width: 150rpx;\r\n}\r\ncheckbox .wx-checkbox-input {\r\n  border-radius: 50% !important;\r\n  color: #ffffff !important;\r\n}\r\n.empty {\r\n  width: 200rpx;\r\n  height: 80rpx;\r\n  text-align: center;\r\n  line-height: 80rpx;\r\n  color: red;\r\n  background-color: #fff;\r\n  margin: 20rpx auto;\r\n}\r\n.addGoodButton {\r\n  width: 200rpx;\r\n  height: 60rpx;\r\n  border-radius: 40rpx;\r\n  border: 1px solid #008cff;\r\n  text-align: center;\r\n  line-height: 60rpx;\r\n  color: #008cff;\r\n  margin-top: 30rpx;\r\n}\r\n.addGoodItem {\r\n  width: 340rpx;\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n  text-align: center;\r\n  image {\r\n    width: 100%;\r\n  }\r\n}\r\n.add {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-bottom: 50px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./shoppingCart.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../aaa/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./shoppingCart.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1717393523822\n      var cssReload = require(\"B:/aaa/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}